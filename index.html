<!doctype html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <style>
    body { background: cadetblue; margin:0; padding:0; }
    #app { text-align: center; vertical-align: middle; }
    section { height: 100vh; padding: 20px; box-sizing: border-box; }
    h1 { margin: 0; }
    .card { width:200px; height:300px; line-height: 300px; display: inline-block; margin: 20px;  }
    .card1 { background: brown; }
    .card2 { background: beige; }
    .card3 { background: burlywood; }
    .card4 { background: blueviolet; }
    .card p { margin: 0; }
    label { display: block; }
    s { text-decoration: none; }
  </style>
</head>
<body>
<div id="app">
  <transition name="fade">
    <section v-if="page === 1">
      <h1>MPTI에 오신걸 환영합니다</h1>
      <p>
        텔미트렌의 다양한 처방 케이스에 대해
        좀더 나은 제품과 서비스를 만들기 위해
        선생님들의 많은 참여 부탁드립니다*
      </p>
      <a class="go" @click="go(2)">참여하기</a>
    </section>
  </transition>

  <transition name="fade">
    <section v-if="page === 2">
      <p>
        test 참여 전
        알고 계신 코드를 입력해 주세요*
      </p>
      <label>
        <s>코드</s>
        <input type="text" v-model="inputCode" @keyup.enter="codeCheck">
        <a class="submit" @click="codeCheck">확인</a>
      </label>
      <p>-$만약 알고 계신 코드가 없다면 <a @click="go(3)">이동</a> 버튼을 클릭해주세요</p>
    </section>
  </transition>

  <transition name="fade">
    <section v-if="page === 3">
      <p>테스트 진행을 위해 아래 정보를 입력해 주세요</p>
      <label>
        <s>병원명 :</s>
        <input type="text" v-model="user.hospital">
      </label>
      <label>
        <s>성함 :</s>
        <input type="text" v-model="user.name">
      </label>
      <a class="go" @click="go(4)">다음</a>
    </section>
  </transition>

  <transition name="fade">
    <section v-if="page === 4">
      {{ user.hospital }} 병원(의원) {{ user.name }}선생님 안녕하세요!<br> 테스트를 시작하겠습니다.
      <a class="go" @click="go(5)">시작</a>
    </section>
  </transition>

  <transition name="fade">
    <section v-if="page === 5">
      <div class="card card1" @click="cardSelect(6)">
        <p>4월</p>
      </div>
      <div class="card card2" @click="cardSelect(7)">
        <p>5월</p>
      </div>
      <div class="card card3" @click="cardSelect(8)">
        <p>6월</p>
      </div>
      <div class="card card4" @click="cardSelect(9)">
        <p>7월</p>
      </div>
    </section>
  </transition>

  <transition name="fade">
    <section v-if="page === 6">
      <h2>Part 1. 고혈압 환자 관리 행동 양식 조사 (1)</h2>
      <div>
        <p>생전 처음으로 고혈압을 진단받은 다음과 같은 환자의 혈압 관리를 위해 선생 님께서는 가장 먼저 어떤 방식을 선택하시겠습니까?</p>
        <img src="img/img1.png" alt="">
        <label>
          <input type="radio" value="a" v-model="q1">
          <i></i>
          <s>1.즉시 혈압강하제 처방을 고려한다.</s>
        </label>
        <label>
          <input type="radio" value="b" v-model="q1">
          <i></i>
          <s>2.식이 및 운동요법 등 생활습관개선을 우선 권고한다.</s>
        </label>
      </div>
      <a class="go" @click="formCheck('q1')">다음</a>
    </section>
  </transition>

  <transition name="fade">
    <section v-if="page === 7">
      <h2>Part 1. 고혈압 환자 관리 행동 양식 조사 (2)</h2>
      <div>
        <p>즉시 혈압강하제 처방을 고려하시게 된 이유는 무엇입니까? (복수 선택 가능)</p>
        <label>
          <input type="checkbox" value="a" v-model="q1_1">
          <i></i>
          <s>1.신속한 혈압 조절이 필요해서</s>
        </label>
        <label>
          <input type="checkbox" value="b" v-model="q1_1">
          <i></i>
          <s>2.연령이나 비만도가 경계선에 있는 환자이므로</s>
        </label>
        <label>
          <input type="checkbox" value="c" v-model="q1_1">
          <i></i>
          <s>3.직업 상 규칙적인 생활습관개선이 여의치 않아서</s>
        </label>
        <label>
          <input type="checkbox" value="d" v-model="q1_1">
          <i></i>
          <s>4.기타</s>
        </label>
      </div>
      <a class="go" @click="formCheck('q1_1')">다음</a>
    </section>
  </transition>

  <transition name="fade">
    <section v-if="page === 8">
      <h2>Part 1. 고혈압 환자 관리 행동 양식 조사 (2)</h2>
      <div>
        <p>생활습관개선을 우선 권고하시게 된 이유는 무엇입니까? (복수 선택 가능)</p>
        <label>
          <input type="checkbox" value="a" v-model="q1_2">
          <i></i>
          <s>1.생활습관개선으로 혈압 관리가 가능하다고 판단해서</s>
        </label>
        <label>
          <input type="checkbox" value="b" v-model="q1_2">
          <i></i>
          <s>2.환자가 혈압강하제 복용을 꺼려해서</s>
        </label>
        <label>
          <input type="checkbox" value="c" v-model="q1_2">
          <i></i>
          <s>3.환자가 복용하기 간편한 혈압강하제가 마땅치 않아서</s>
        </label>
        <label>
          <input type="checkbox" value="d" v-model="q1_2">
          <i></i>
          <s>4.기타</s>
        </label>
      </div>
      <a class="go" @click="formCheck('q1_2')">다음</a>
    </section>
  </transition>

  <transition name="fade">
    <section v-if="page === 9">
      <h2>Part 2. 텔미트렌 20mg 처방 경험 조사 (1)</h2>
      <div>
        <p>선생님께서는 텔미트렌 20mg을 처방해보신 경험이 있으신지요?</p>
        <label>
          <input type="radio" value="a" v-model="q2">
          <i></i>
          <s>1.있다</s>
        </label>
        <label>
          <input type="radio" value="b" v-model="q2">
          <i></i>
          <s>2.없다</s>
        </label>
      </div>
      <a class="go" @click="formCheck('q2')">다음</a>
    </section>
  </transition>

  <transition name="fade">
    <section v-if="page === 10">
      <h2>Part 2. 텔미트렌 20mg 처방 경험 조사 (1)</h2>
      <div>
        <p>1. 텔미트렌 20mg은 어떤 환자에게 처방하셨습니까? (복수 선택 가능)</p>
        <label>
          <input type="checkbox" value="a" v-model="q2_1">
          <i></i>
          <s>1.처음 고혈압으로 진단된 환자에게 단독 처방</s>
        </label>
        <label>
          <input type="checkbox" value="b" v-model="q2_1">
          <i></i>
          <s>2.처음 고혈압으로 진단된 환자에게 다른 계열 혈압강하제와 병용 처방</s>
        </label>
        <label>
          <input type="checkbox" value="c" v-model="q2_1">
          <i></i>
          <s>3.기존ARB(텔미살탄제제포함)를 처방받고 있던 환자에게 교체처방</s>
        </label>
        <label>
          <input type="checkbox" value="d" v-model="q2_1">
          <i></i>
          <s>4.기존 다른 계열 혈압강하제를 처방받고 있던 환자에게 교체 처방</s>
        </label>
        <label>
          <input type="checkbox" value="e" v-model="q2_1">
          <i></i>
          <s>5.동반질환 (당뇨병, 고지혈증 등) 이 있는 고혈압 환자에게 단독 처방</s>
        </label>
        <label>
          <input type="checkbox" value="f" v-model="q2_1">
          <i></i>
          <s>6.동반질환 (당뇨병, 고지혈증 등) 이 있는 고혈압 환자에게 병용 처방</s>
        </label>
        <label>
          <input type="checkbox" value="g" v-model="q2_1">
          <i></i>
          <s>7.기타</s>
        </label>
      </div>
      <a class="go" @click="formCheck('q2')">다음</a>
    </section>
  </transition>

</div>
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script>
  var vm = new Vue({
    el: '#app',

    data: {
      code: '1234',
      inputCode: '',
      page: 5,
      dbData: {
        hospital: '을지',
        name: '정우성'
      },
      user: {
        hospital: '',
        name: ''
      },
      q1: false,
      q1_1: [],
      q1_2: [],
      q2: false
    },
    methods: {
      go: function(to) {
        if(to === 4) {
          this.textChanger();
        }
        this.page = to;
        event.preventDefault();
      },
      codeCheck: function() {
        if(this.inputCode === '') {
          alert('코드를 입력하세요.')
          return
        }
        if(this.code === this.inputCode) {
          alert('확인되었습니다.')
        } else {
          alert('유효한 코드 번호가 아닙니다.')
        }
        this.codeClear();
      },
      codeClear: function() {
        this.inputCode = '';
      },
      textChanger: function() {
        this.user.hospital = this.user.hospital.replace('병원','');
      },
      cardSelect: function(v) {
        this.go(v);
      },
      formCheck: function(v) {
        if(!this[v]) {
          alert('질문에 답해주세요.')
          return false
        }
        if(this.q1 === 'a') {
          this.go(7);
        } else {
          this.go(8);
        }
        if(v === 'q1_1' || v === 'q1_2') {
          this.check();
        }
        if(!this.q2) {
          return false
        } else if (this.q2 === 'a') {
          this.go(10);
        } else {
          this.go(11);
        }
      },
      check: function() {
        if(this.q1_1.length === 0 && this.q1_2.length === 0) {
          this.msg();
        } else {
          this.go(9);
        }
      },
      msg: function(v) {
        if(!this[v]) {
          alert('질문에 답해주세요.')
        }
      }
    },
  })
</script>
</body>
</html>